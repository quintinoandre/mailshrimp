service: mailshrimp

frameworkVersion: '2'

provider:
  name: aws
  runtime: nodejs12.x
  lambdaHashingVersion: 20201221
  iamRoleStatements:
    - Effect: 'Allow'
      Action:
        - 'sqs:*'
      Resource: '*'
  tags:
    STAGE: prd
    PROJECT: mailshrimp

functions:
  hello:
    handler: src/handlers/hello/handler.hello

  send-message:
    handler: src/handlers/send-message/handler.sendMessage
    description: 'Send the e-mail'
    memorySize: 128
    timeout: 10
    events:
      - sqs:
          arn: arn:aws:sqs:us-east-1:146373863002:Mailshrimp.fifo
          batchSize: 1
